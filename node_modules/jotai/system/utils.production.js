System.register(["jotai","react"],function(N){"use strict";var m,I,C,M,V,T,P,j;return{setters:[function(b){m=b.atom,I=b.SECRET_INTERNAL_getScopeContext,C=b.useAtom,M=b.useSetAtom,V=b.SECRET_INTERNAL_registerPromiseAbort,N({useAtomValue:b.useAtomValue,useUpdateAtom:b.useSetAtom})},function(b){T=b.useContext,P=b.useCallback,j=b.useMemo}],execute:function(){N({abortableAtom:pt,atomFamily:B,atomWithDefault:it,atomWithHash:dt,atomWithObservable:bt,atomWithReducer:q,atomWithReset:F,atomWithStorage:U,createJSONStorage:J,freezeAtom:nt,freezeAtomCreator:ot,loadable:St,selectAtom:Z,splitAtom:at,useAtomCallback:tt,useHydrateAtoms:At,useReducerAtom:K,useResetAtom:G,waitForAll:lt});const b=N("RESET",Symbol());function F(t){const e=m(t,(r,s,o)=>{const n=typeof o=="function"?o(r(e)):o;s(e,n===b?t:n)});return e}const H="w",$="h";function G(t,e){const r=I(e),s=T(r).s;return P(()=>s[H](t,b),[s,t])}function K(t,e,r){const[s,o]=C(t,r),n=P(a=>{o(i=>e(i,a))},[o,e]);return[s,n]}function q(t,e){const r=m(t,(s,o,n)=>o(r,e(s(r),n)));return r}function B(t,e){let r=null;const s=new Map,o=n=>{let a;if(e===void 0)a=s.get(n);else for(const[c,u]of s)if(e(c,n)){a=u;break}if(a!==void 0)if(r!=null&&r(a[1],n))o.remove(n);else return a[0];const i=t(n);return s.set(n,[i,Date.now()]),i};return o.remove=n=>{if(e===void 0)s.delete(n);else for(const[a]of s)if(e(a,n)){s.delete(a);break}},o.setShouldRemove=n=>{if(r=n,!!r)for(const[a,i]of s)r(i[1],a)&&s.delete(a)},o}const Q=(t,e)=>{do{const[r,...s]=e,o=t.get(r);if(!o)return;if(!s.length)return o[1];t=o[0],e=s}while(e.length)},X=(t,e,r)=>{do{const[s,...o]=e;let n=t.get(s);if(n||(n=[new WeakMap],t.set(s,n)),!o.length){n[1]=r;return}t=n[0],e=o}while(e.length)},E=()=>{const t=new WeakMap;return(e,r)=>{const s=Q(t,r);if(s)return s;const o=e();return X(t,r,o),o}},Y=E();function Z(t,e,r=Object.is){return Y(()=>{const s=m(()=>({}));return m(o=>{const n=e(o(t)),a=o(s);return"prev"in a&&r(a.prev,n)?a.prev:(a.prev=n,n)})},[t,e,r])}function tt(t,e){const r=j(()=>m(null,(o,n,[a,i,c])=>{try{i(t(o,n,a))}catch(u){c(u)}}),[t]),s=M(r,e);return P(o=>{let n=!0,a={};const i=new Promise((c,u)=>{s([o,l=>{n?a={v:l}:c(l)},l=>{n?a={e:l}:u(l)}])});if(n=!1,"e"in a)throw a.e;return"v"in a?a.v:i},[s])}const et=E(),_=t=>{if(typeof t!="object"||t===null)return;Object.freeze(t);const e=Object.getOwnPropertyNames(t);for(const r of e){const s=t[r];_(s)}return t};function nt(t){return et(()=>m(e=>_(e(t)),(e,r,s)=>r(t,s)),[t])}function ot(t){return(...e)=>{const r=t(...e),s=r.read;return r.read=o=>_(s(o)),r}}const rt=E(),z=t=>!!t.write,st=t=>typeof t=="function";function at(t,e){return rt(()=>{const r=new WeakMap,s=(c,u)=>{let l=r.get(c);if(l)return l;const f=u&&r.get(u),h=[],d=[];return c.forEach((S,w)=>{const A=e?e(S):w;d[w]=A;const p=f&&f.atomList[f.keyList.indexOf(A)];if(p){h[w]=p;return}const O=R=>{const x=R(o),y=R(t),L=s(y,x.prev).keyList.indexOf(A);if(L<0||L>=y.length){const g=c[s(c).keyList.indexOf(A)];if(g)return g;throw new Error("splitAtom: index out of bounds for read")}return y[L]},v=(R,x,y)=>{const L=R(o),g=R(t),k=s(g,L.prev).keyList.indexOf(A);if(k<0||k>=g.length)throw new Error("splitAtom: index out of bounds for write");const Et=st(y)?y(g[k]):y;x(t,[...g.slice(0,k),Et,...g.slice(k+1)])};h[w]=z(t)?m(O,v):m(O)}),f&&f.keyList.length===d.length&&f.keyList.every((S,w)=>S===d[w])?l=f:l={atomList:h,keyList:d},r.set(c,l),l},o=m(()=>({})),n=c=>{const u=c(o),l=c(t),f=s(l,u.prev);return u.prev=l,f.atomList},a=(c,u,l)=>{switch("read"in l&&(console.warn("atomToRemove is deprecated. use action with type"),l={type:"remove",atom:l}),l.type){case"remove":{const f=c(i).indexOf(l.atom);if(f>=0){const h=c(t);u(t,[...h.slice(0,f),...h.slice(f+1)])}break}case"insert":{const f=l.before?c(i).indexOf(l.before):c(i).length;if(f>=0){const h=c(t);u(t,[...h.slice(0,f),l.value,...h.slice(f)])}break}case"move":{const f=c(i).indexOf(l.atom),h=l.before?c(i).indexOf(l.before):c(i).length;if(f>=0&&h>=0){const d=c(t);f<h?u(t,[...d.slice(0,f),...d.slice(f+1,h),d[f],...d.slice(h)]):u(t,[...d.slice(0,h),d[f],...d.slice(h,f),...d.slice(f+1)])}break}}},i=z(t)?m(n,a):m(n);return i},e?[t,e]:[t])}function it(t){const e=Symbol(),r=m(e),s=m(o=>{const n=o(r);return n!==e?n:t(o)},(o,n,a)=>a===b?n(r,e):n(r,typeof a=="function"?a(o(s)):a));return s}const ct=E(),ut=m(()=>[]);function lt(t){const e=()=>{const r=ft(t);return m(s=>{const o=[],n=r.map((a,i)=>{try{return s(a)}catch(c){if(c instanceof Promise)o[i]=c;else throw c}});if(o.length)throw Promise.all(o);return mt(t,n)})};return Array.isArray(t)?t.length?ct(e,t):ut:e()}const ft=t=>Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(e=>t[e]),mt=(t,e)=>Array.isArray(t)?e:Object.getOwnPropertyNames(t).reduce((r,s,o)=>({...r,[s]:e[o]}),{}),W=N("unstable_NO_STORAGE_VALUE",Symbol());function J(t){let e,r;const s={getItem:o=>{var n,a;const i=u=>{if(u=u||"",e!==u){try{r=JSON.parse(u)}catch{return W}e=u}return r},c=(a=(n=t())==null?void 0:n.getItem(o))!=null?a:null;return c instanceof Promise?c.then(i):i(c)},setItem:(o,n)=>{var a;return(a=t())==null?void 0:a.setItem(o,JSON.stringify(n))},removeItem:o=>{var n;return(n=t())==null?void 0:n.removeItem(o)}};return typeof window<"u"&&(s.subscribe=(o,n)=>{const a=i=>{i.key===o&&i.newValue&&n(JSON.parse(i.newValue))};return window.addEventListener("storage",a),()=>{window.removeEventListener("storage",a)}}),s}const ht=J(()=>typeof window<"u"?window.localStorage:void 0);function U(t,e,r=ht){const s=()=>{const n=r.getItem(t);return n instanceof Promise?n.then(a=>a===W?e:a):n===W?e:n},o=m(r.delayInit?e:s());return o.onMount=n=>{let a;if(r.subscribe&&(a=r.subscribe(t,n),n(s())),r.delayInit){const i=s();i instanceof Promise?i.then(n):n(i)}return a},m(n=>n(o),(n,a,i)=>{const c=typeof i=="function"?i(n(o)):i;return c===b?(a(o,e),r.removeItem(t)):(a(o,c),r.setItem(t,c))})}function dt(t,e,r){const s=(r==null?void 0:r.serialize)||JSON.stringify,o=(r==null?void 0:r.deserialize)||(i=>{try{return JSON.parse(i||"")}catch{return W}}),n=(r==null?void 0:r.subscribe)||(i=>(window.addEventListener("hashchange",i),()=>{window.removeEventListener("hashchange",i)})),a={getItem:i=>{const c=new URLSearchParams(location.hash.slice(1)).get(i);return o(c)},setItem:(i,c)=>{const u=new URLSearchParams(location.hash.slice(1));u.set(i,s(c)),r!=null&&r.replaceState?history.replaceState(null,"","#"+u.toString()):location.hash=u.toString()},removeItem:i=>{const c=new URLSearchParams(location.hash.slice(1));c.delete(i),r!=null&&r.replaceState?history.replaceState(null,"","#"+c.toString()):location.hash=c.toString()},...(r==null?void 0:r.delayInit)&&{delayInit:!0},subscribe:(i,c)=>n(()=>{const u=new URLSearchParams(location.hash.slice(1)).get(i);c(u!==null?o(u):e)})};return U(t,e,a)}function bt(t,e){const r=m(s=>{var o;let n=t(s);const a=(o=n[Symbol.observable])==null?void 0:o.call(n);a&&(n=a);const i=Symbol();let c=null,u=(e==null?void 0:e.initialValue)===void 0?new Promise(v=>{c=v}):void 0,l=!1,f=i,h=!0,d=v=>{(e==null?void 0:e.initialValue)===void 0&&!l?(h&&(u=v),c==null||c(v),l=!0,c=null):f=v};const S=v=>{d(v)},w=v=>{d(Promise.reject(v))};let A=null,p;(e==null?void 0:e.initialValue)!==void 0?p=vt(e):(A=n.subscribe(S,w),p=u),h=!1;const O=m(p);return O.onMount=v=>(d=v,f!==i&&v(f),A||(A=n.subscribe(S,w)),()=>{A==null||A.unsubscribe(),A=null}),{dataAtom:O,observable:n}});return m(s=>{const{dataAtom:o}=s(r);return s(o)},(s,o,n)=>{const{dataAtom:a,observable:i}=s(r);if("next"in i){let c=null;const u=l=>{o(a,l),c==null||c.unsubscribe()};c=i.subscribe(u),i.next(n)}else throw new Error("observable is not subject")})}function vt(t){const e=t.initialValue;return e instanceof Function?e():e}const D=new WeakMap;function At(t,e){const r=I(e),s=T(r),o=s.s,n=wt(s),a=[];for(const i of t){const c=i[0];n.has(c)||(n.add(c),a.push(i))}a.length&&o[$](a)}function wt(t){let e=D.get(t);return e||(e=new WeakSet,D.set(t,e)),e}const gt=E(),yt={state:"loading"};function St(t){return gt(()=>{const e=new WeakMap,r=m(s=>{let o;try{const i=s(t);return m({state:"hasData",data:i})}catch(i){if(i instanceof Promise)o=i;else return m({state:"hasError",error:i})}const n=e.get(o);if(n)return n;const a=m(yt,async(i,c)=>{try{const u=await i(t,{unstable_promise:!0});c(a,{state:"hasData",data:u})}catch(u){c(a,{state:"hasError",error:u})}});return a.onMount=i=>{i()},e.set(o,a),a});return m(s=>{const o=s(r);return s(o)})},[t])}function pt(t,e){return m(r=>{const s=new AbortController,o=t(r,{signal:s.signal});return o instanceof Promise&&V(o,()=>s.abort()),o},e)}}}});
